var L=Object.defineProperty;var b=Object.getOwnPropertySymbols;var C=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable;var S=(e,o,a)=>o in e?L(e,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[o]=a,_=(e,o)=>{for(var a in o||(o={}))C.call(o,a)&&S(e,a,o[a]);if(b)for(var a of b(o))P.call(o,a)&&S(e,a,o[a]);return e};import{c as R,a as d,d as U,u as T,b as p}from"./object.feea5c71.js";import{u as G,a as H,b as I,r as V,_ as N,d as m,o as F,c as D,e as c,f as n,t as f,w as $,g as M,h as O,F as W,i as X}from"./index.98177c14.js";const j=()=>{const{t:e}=G(),o=H(),a=I(),l=V(!1),g=V(!0),u=V(!0),t=6,r=2,i=255,w=R({name:d().required(e("Required",{name:e("Name")})).min(r,e("Min",{name:e("Name"),min:r})).max(i,e("Max",{name:e("Name"),max:i})),email:d().required(e("Required",{name:"Email"})).email(e("Valid email")),password:d().required(e("Required",{name:e("Password")})).min(t,e("Min",{name:e("Password"),min:t})).max(i,e("Max",{name:e("Password"),max:i})),password_confirmation:d().required(e("Required",{name:e("Confirm password")})).oneOf([U("password")],e("Passwords must match"))}),{errors:v,handleSubmit:s}=T({validationSchema:w}),{value:h}=p("name"),{value:A}=p("password"),{value:k}=p("email"),{value:q}=p("password_confirmation");return{onSubmit:s(async(y,B)=>{if(!!u.value)try{l.value=!0,await o.dispatch("auth/signup",y),a.push({name:"login"})}catch({errors:E}){B.setErrors(E)}finally{l.value=!1}}),agree:u,name:h,email:k,password:A,password_confirmation:q,errors:v,isActiveFocus:g,isButtonLoading:l}},z={name:"SignupForm",setup(){return _({},j())}},J={class:"flex items-center pb-5"},K={class:"auth-subform"};function Q(e,o,a,l,g,u){const t=m("app-icon"),r=m("app-input"),i=m("app-checkbox-input"),w=m("app-button"),v=m("router-link");return F(),D(W,null,[c("div",J,[n(t,{icon:"lock-open",class:"w-6 h-6"}),c("h2",null,f(e.$t("Signup")),1)]),c("form",{onSubmit:o[5]||(o[5]=O((...s)=>e.onSubmit&&e.onSubmit(...s),["prevent"])),class:"space-y-8"},[n(r,{isActiveFocus:e.isActiveFocus,label:"Name",name:"name",modelValue:e.name,"onUpdate:modelValue":o[0]||(o[0]=s=>e.name=s),modelModifiers:{trim:!0},"error-message":e.errors.name},null,8,["isActiveFocus","modelValue","error-message"]),n(r,{label:"Email",type:"email",name:"email",modelValue:e.email,"onUpdate:modelValue":o[1]||(o[1]=s=>e.email=s),modelModifiers:{trim:!0},"error-message":e.errors.email},null,8,["modelValue","error-message"]),n(r,{label:"Password",type:"password",name:"password",modelValue:e.password,"onUpdate:modelValue":o[2]||(o[2]=s=>e.password=s),modelModifiers:{trim:!0},"error-message":e.errors.password},null,8,["modelValue","error-message"]),n(r,{label:"Confirm password",name:"password_confirmation",type:"password",modelValue:e.password_confirmation,"onUpdate:modelValue":o[3]||(o[3]=s=>e.password_confirmation=s),modelModifiers:{trim:!0},"error-message":e.errors.password_confirmation},null,8,["modelValue","error-message"]),n(i,{modelValue:e.agree,"onUpdate:modelValue":o[4]||(o[4]=s=>e.agree=s),name:"agree",class:"text-xs"},{default:$(()=>[M(f(e.$t("Agree")),1)]),_:1},8,["modelValue"]),n(w,{isButtonLoading:e.isButtonLoading},{default:$(()=>[M(f(e.$t("Signup")),1)]),_:1},8,["isButtonLoading"])],32),c("div",K,[n(v,{to:{name:"login"},class:"text-sm hover:underline",textContent:f(e.$t("Login"))},null,8,["textContent"])])],64)}var Y=N(z,[["render",Q]]);const Z={name:"Signup",components:{SignupForm:Y}};function x(e,o,a,l,g,u){const t=m("signup-form");return F(),X(t)}var ne=N(Z,[["render",x]]);export{ne as default};
